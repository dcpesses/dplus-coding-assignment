(()=>{"use strict";var n={365:(n,e,t)=>{t.d(e,{A:()=>f});var o=t(601),a=t.n(o),r=t(314),i=t.n(r),s=t(417),c=t.n(s),l=new URL(t(14),t.b),d=i()(a()),p=c()(l);d.push([n.id,`@font-face {\n    font-family: InspireBold;\n    src: url("https://config-cd-dmgz.bamgrid.com/static/assets/fonts/inspire/inspire-v02/Inspire-Bold.woff2") format("woff2"),url("https://config-cd-dmgz.bamgrid.com/static/assets/fonts/inspire/inspire-v02/Inspire-Bold.woff") format("woff"),url("https://config-cd-dmgz.bamgrid.com/static/assets/fonts/inspire/inspire-v02/Inspire-Bold.otf") format("opentype")\n}\n\n@font-face {\n    font-family: InspireRegular;\n    src: url("https://config-cd-dmgz.bamgrid.com/static/assets/fonts/inspire/inspire-v02/Inspire-Regular.woff2") format("woff2"),url("https://config-cd-dmgz.bamgrid.com/static/assets/fonts/inspire/inspire-v02/Inspire-Regular.woff") format("woff"),url("https://config-cd-dmgz.bamgrid.com/static/assets/fonts/inspire/inspire-v02/Inspire-Regular.otf") format("opentype")\n}\n\n@font-face {\n    font-family: InspireMini;\n    src: url("https://config-cd-dmgz.bamgrid.com/static/assets/fonts/inspire/inspire-mini-v01/InspireMini-Regular.woff2") format("woff2"),url("https://config-cd-dmgz.bamgrid.com/static/assets/fonts/inspire/inspire-mini-v01/InspireMini-Regular.woff") format("woff"),url("https://config-cd-dmgz.bamgrid.com/static/assets/fonts/inspire/inspire-mini-v01/InspireMini-Regular.otf") format("opentype")\n}\n\n:root {\n    --bkgd-gradient-black: #1a1d29;\n    --bkgd-gradient-highlight: #143578;\n    --primary-color: #f9f9f9;\n}\n\n* {\n    box-sizing: border-box;\n}\n\nhtml,body {\n    width: 100%;\n    height: 100%;\n    color: var(--primary-color);\n    background: var(--bkgd-gradient-black);\n    margin: 0;\n    overflow: hidden\n}\nbody {\n    font-family: InspireRegular, Arial, Helvetica, sans-serif;\n    padding: 0;\n    background-color: var(--bkgd-gradient-highlight);\n    background: no-repeat bottom center / cover radial-gradient(\n        circle at center bottom,\n        var(--bkgd-gradient-highlight),\n        var(--bkgd-gradient-black)\n    );\n    box-sizing: border-box;\n}\n\nh1, h2, h3, h4, h5, h6 {\n    font-family: InspireBold, Arial, Helvetica, sans-serif;\n}\n\n\n#app {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 20px 0;\n    min-width: 320px;\n    overflow: hidden;\n    pointer-events: none;\n}\n\n.row-wrapper {\n    box-sizing: border-box;\n    width: 100%;\n    background-color: rgba(0, 255, 0, 0.5);\n}\n\n.row {\n    box-sizing: border-box;\n    display: flex;\n    margin-bottom: 20px;\n    overflow: hidden;\n    width: 100%;\n    height: 200px;\n    padding: 0 10px 0;\n}\n\n.row-billboard {\n    height: 220px;\n}\n\n.row-header {\n    position: absolute;\n    padding: 0 10px;\n    margin: -5px 0 0;\n    font-size: 1.4rem;\n    font-weight: 500;\n}\n\n.tile {\n    flex-shrink: 0;\n    position: relative;\n    display: inline-flex;\n    align-self: center;\n    height: 144px;\n    margin: 10px 10px 0 10px;\n}\n.tile.billboard {\n    aspect-ratio: 3;\n    height: 167px;\n}\n.tile.collection {\n    aspect-ratio: 0.71;\n}\n.tile.grid {\n    aspect-ratio: 16 / 9;\n    height: 144px;\n    max-width: 256px;\n}\n\n.tile img {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    transition: transform 0.3s ease-in-out;\n    transform: scale(1);\n}\n\n.tile.focused {\n    z-index: 1;\n}\n\n.tile.focused img {\n    transform: scale(1.075);\n}\n.tile.focused img:first-of-type {\n    box-shadow: 0 5px 10px 0px #48b;\n    outline: 2px solid #fff;\n}\n.tile.focused:first-of-type img {\n    transform: scale(1.075);\n}\n\n#modal {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.8);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    /* display:block; */\n    z-index: 2;\n}\n#modal.hidden,\n.hidden {\n    display: none;\n}\n\n#modal-content {\n    position: relative;\n    display: block;\n    color: var(--primary-color);\n    background: var(--bkgd-gradient-black);\n    margin: auto;\n    width: 80%;\n}\n.modal-content-body {\n    aspect-ratio: 16 / 9;\n    max-width: 100%;\n    margin: auto;\n    position: relative;\n    display: block;\n    box-sizing: border-box;\n    padding: 9% 1rem 0;\n}\n\n.modal-content-bkgd-image {\n    position: absolute;\n}\n\n.modal-content-bkgd {\n    aspect-ratio: 16 / 9;\n    width: 100%;\n    height: 0;\n    padding-top: 56.25%;\n}\n\n.background-image {\n    background-size: contain;\n    background-color: transparent;\n    background-position: center center;\n    background-repeat: no-repeat;\n}\n\n.modal-content-title-treatment {\n    display: block;\n    width: 25%;\n    aspect-ratio: 1.78;\n}\n.modal-content-title-treatment img {\n    width: 100%;\n}\n.modal-content-metadata {\n    padding-top: 2%;\n    font-size: 3vw;\n}\n.modal-content-metadata span {\n    display: inline-block;\n}\n\n.modal-content-ratings-availability {\n    font-family: InspireBold, Arial, Helvetica, sans-serif;\n}\n.modal-content-release-tags {\n    font-family: InspireMini, InspireRegular, Arial, Helvetica, sans-serif;\n    font-size: 1.5vw;\n    letter-spacing: -0.1px;\n    color: #aaa;\n}\n\n/* .modal-content-synopsis {} */\n\n.modal-content-error-text {\n    width: 50%;\n    font-size: 2.2vw;\n    padding: 0 1%;\n    text-align: center;\n}\n\n.modal-content-error-text h2 {\n    font-size: 4.4vw;\n}\n\n.error-background {\n    background: white right center / contain no-repeat url(${p});\n    color: var(--bkgd-gradient-black);\n}\n\n@media (max-width: 575.98px) {\n    .row-billboard {\n        height: calc(85vw * (220 / 576) + 40px)\n    }\n    .row-grid {\n        height: 180px;\n    }\n    .tile {\n        margin: 0 8px;\n    }\n    .tile.grid {\n        height: 108px;\n        max-width: 192px;\n    }\n    .tile.billboard {\n        width: 85vw;\n        height: auto;\n    }\n}\n@media (max-width: 320px) {\n    .tile.billboard {\n        width: 272px;\n    }\n}`,""]);const f=d},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,a,r){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);o&&i[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},417:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var r={},i=[],s=0;s<n.length;s++){var c=n[s],l=o.base?c[0]+o.base:c[0],d=r[l]||0,p="".concat(l," ").concat(d);r[l]=d+1;var f=t(p),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(m);else{var u=a(m,o);o.byIndex=s,e.splice(s,0,{identifier:p,updater:u,references:1})}i.push(p)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var r=o(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<r.length;i++){var s=t(r[i]);e[s].references--}for(var c=o(n,a),l=0;l<r.length;l++){var d=t(r[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=c}}},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,a&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},14:(n,e,t)=>{n.exports=t.p+"5494c521852adf5829a2.webp"}},e={};function t(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={id:o,exports:{}};return n[o](r,r.exports,t),r.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var o=e.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&(!n||!/^http(s?):/.test(n));)n=o[a--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0;const o="billboard",a="collection",r="grid";function i({contentType:n,isTitleTreatment:e,item:t,rowType:r,title:i}){const s=document.createElement("img");let{aspectRatio:c,imageType:l}=function(n){switch(n){case o:return{aspectRatio:"3.00",imageType:"hero_tile"};case a:return{aspectRatio:"0.71",imageType:"tile"};default:return{aspectRatio:"1.78",imageType:"tile"}}}(r);e&&(l="title_treatment_layer");const d=`https://placehold.co/${Math.round(540*parseFloat(c))}x540?text=${encodeURI(i)}`;if(s.src=d,t.image[l]?.[c]){console.log({contentType:n,title:i,aspectRatio:t.image[l][c]});let o=t.image[l][c].default?.default?.url,a=t.image[l][c][n]?.default?.url||o;e&&(a=a.replace("format=jpeg","format=png")),s.src=a}else console.log(`image not found for ${i}`,{contentType:n,title:i,aspectRatio:t.image[l][c]});return s.alt=i,s.onerror=e=>{console.warn(`image error for ${i}`,e,{url:s.src,contentType:n,title:i,aspectRatio:t.image[l][c]}),s.src=d,s.onerror=null},s}var s=t(72),c=t.n(s),l=t(825),d=t.n(l),p=t(659),f=t.n(p),m=t(56),u=t.n(m),g=t(540),h=t.n(g),b=t(113),v=t.n(b),w=t(365),y={};y.styleTagTransform=v(),y.setAttributes=u(),y.insert=f().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=h(),c()(w.A,y),w.A&&w.A.locals&&w.A.locals,document.addEventListener("DOMContentLoaded",(()=>{const n=document.getElementById("app"),{modal:e,modalContent:t}=function(){const n=Object.assign(document.createElement("div"),{id:"modal-content"}),e=Object.assign(document.createElement("div"),{id:"modal",className:"modal hidden"});return e.appendChild(n),{modal:e,modalContent:n}}();let s={},c=[],l=[],d={},p=0;function f({rowData:n,rowIdx:e,rowType:t,setType:a}){a||(a="set"),console.log("renderRow",{rowData:n,rowIdx:e,rowType:t,setType:a});const r=document.createElement("div");r.id=n[a].setId,r.classList.add("row",`row-${t}`),r.dataset.rowIdx=e;const s=function(n){let e=n?.text?.title?.full?.set?.default?.content;e||(e="");const t=document.createElement("h3");return t.classList.add("row-header"),t.textContent=e,t}(n[a]);return r.appendChild(s),n[a].items.forEach((n=>{const a=function(n,e){const t=document.createElement("div");let a;t.classList.add("tile"),e&&t.classList.add(e),n.seriesId?(a="series",t.classList.add(`series-${n.seriesId}`)):n.programId?(a="program",t.classList.add(`program-${n.programId}`)):n.collectionId&&(a="collection",t.classList.add(`collection-${n.collectionId}`));let r=n.text.title.full[a].default.content;t.dataset.title=r;const s=i({contentType:a,item:n,rowType:e,title:r});if(t.appendChild(s),e===o){const o=i({contentType:a,isTitleTreatment:!0,item:n,rowType:e,title:r});o.classList.add("text-treatment"),t.appendChild(o)}return t}(n,t),s=l.length;a.dataset.rowIdx=e,a.dataset.tileIdx=s,r.appendChild(a),d[`${e}_${s}`]=n,l.push(a)})),r}function m(n){console.log({index:n,focusTile:l[n]}),l[p].classList.remove("focused"),p=n,l[p].classList.add("focused"),l[p].scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}function u(n){let e=c[n];e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),0===n&&(e=c[n].offsetParent,e.scrollIntoView({behavior:"auto",block:"start",inline:"start"}));let t=c[n].firstChild.nextSibling;console.log({nextTile:t}),t=parseInt(t.dataset.tileIdx,10),m(t)}function g(){e&&e.classList.add("hidden")}fetch("https://cd-static.bamgrid.com/dp-117731241344/home.json").then((n=>n.json())).then((function(t){console.log({data:t});const{containers:i}=t.data.StandardCollection;s=i;let d=0,p=r;return i.forEach(((e,t)=>{try{if(!e.set?.items)return void console.warn("No items found in set:",e.set);switch(t){case 0:p=o;break;case 1:p=a;break;default:p=r}const i=f({rowData:e,rowIdx:d,rowType:p});c.push(i),n.appendChild(i),d+=1}catch(n){console.error(n,"Unable to parse rowData:",e)}})),l.length>0&&setTimeout((()=>{m(0)}),150),n.appendChild(e),i})).catch((e=>{console.error("Error fetching home page data:",e),n.innerHTML="<p>Failed to load data. Please try again later.</p>"})).then((function(e){console.log("loadReferenceRows",{data:e,filtered:e.filter((n=>n.set.refId))}),e.filter((n=>n.set.refId)).forEach((e=>{const t=e.set.refId;var o;(o=t,fetch(`https://cd-static.bamgrid.com/dp-117731241344/sets/${o}.json`).then((n=>n.json())).catch((n=>{console.error("Failed to fetch set data",n)}))).then((o=>{console.log({setId:t,rowData:o});const a=f({rowData:o.data,rowIdx:c.length,rowType:r,setType:e.set.refType});c.push(a),n.appendChild(a)})).catch((n=>{console.error(`Error fetching data for ${t}:`,n)}))}))})).catch((e=>{console.error("Error fetching ref data:",e),n.innerHTML+="<p>Failed to load additional home screen data. Please try again later.</p>"})),document.addEventListener("keydown",(function(n){let o;if(!e||e.classList.contains("hidden"))switch(n.key){case"ArrowRight":p<l.length-1&&m(p+1);break;case"ArrowLeft":p>0&&m(p-1);break;case"ArrowDown":o=parseInt(l[p].dataset.rowIdx,10),console.log({focusedTile:l[p],dataset:l[p].dataset,focusedRow:o,rows:c}),o<c.length-1&&u(o+1);break;case"ArrowUp":o=parseInt(l[p].dataset.rowIdx,10),o>0&&u(o-1);break;case"Enter":!function(){console.log({focusedIndex:p,modal:e,dataContainers:s,dataset:l[p].dataset});const{rowIdx:n,tileIdx:o}=l[p].dataset,a=d[`${n}_${o}`];t.innerHTML=function(n){console.log("renderModalContent",{item:n});try{let e;n.seriesId?e="series":n.programId?e="program":n.collectionId&&(e="collection");let t=n.text.title.full[e].default.content,o=n.image.background?.[1.78]?.[e]?.default?.url;o&&(o=o.replace("width=500","width=960"));let a=n.image.title_treatment[1.78]?.[e]?.default?.url;a&&(a=a.replace("format=jpeg","format=png"));const r=a?`<img src="${a}" alt="${t}" onerror="this.onerror=null;this.className='hidden';this.nextSibling.className='show-fallback'" /><h2 class="hidden">${t}</h2>`:`<h2>${t}</h2>`;let i=function(n){if(!n)return null;const e=n>=36e5?new Date(n).toISOString().substr(11,8):new Date(n).toISOString().substr(14,5);let[t,o,a]=e.split(":").reverse().map((n=>parseInt(n)));t>=30&&(o=o?o+1:1);let r="";return a&&(r+=`${a}h `),o&&(r+=`${o}m`),""===r&&(r+=`${t}s`),r.trim()}(n.mediaMetadata?.runtimeMillis),s="",c=`\n            <section class="modal-content-body background-image" style="background-image: radial-gradient(circle at 72% 50%, rgba(255, 255, 0, 0) 0%, rgba(0, 0, 0, 0.72) 59%, rgba(0, 0, 0, 1) 88%), url(${o});">\n                <div class="modal-content-title-treatment">\n                    ${r}\n                </div>\n\n                <div class="modal-content-metadata">\n                    <div class="modal-content-ratings-availability">\n                        <span class="content-format">\n                            ${n.ratings?.[0]?.value||""}\n                        </span>\n                        <span class="content-rating">\n                            ${n.mediaMetadata?.format||""}\n                        </span>\n                    </div>\n                    <div class="modal-content-release-tags">\n                        <span class="content-release-year">\n                            ${n.releases?.[0]?.releaseYear||""}\n                        </span>\n                        <span class="content-release-runtime">\n                            ${i||""}\n                        </span>\n                    </div>\n                </div>\n                <p class="modal-content-synopsis">\n                    ${s}\n                </p>\n            </section>\n        `.trim();return console.log("renderModalContent",{modalContent:c}),c}catch(n){return console.error(n),'\n            <section class="modal-content-body error-background">\n\n                <div class="modal-content-error-text">\n                    <h2>Oh no!</h2>\n                    <p>Either I wasn\'t expecting that type of data object, or I ran out of time trying to handle all scenarios. Sorry!</p>\n                </div>\n\n            </section>\n        '.trim()}}(a),e.classList.remove("hidden")}();break;case"Escape":g()}else"Escape"===n.key&&g()}))}))})();